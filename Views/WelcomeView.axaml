<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Writersword.ViewModels"
        xmlns:converters="using:Writersword.Converters"
        x:Class="Writersword.Views.WelcomeView"
        x:DataType="vm:WelcomeViewModel"
        Title="Welcome to Writersword"
        Width="760"
        Height="680"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        SystemDecorations="None"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent">

	<Window.Resources>
		<converters:EnumToBooleanConverter x:Key="EnumToBooleanConverter"/>
	</Window.Resources>

	<!-- Затемнённый фон -->
	<Border Background="#DD000000"
            CornerRadius="12">

		<!-- Контент окна -->
		<Border Background="#1E1E1E"
                CornerRadius="12"
                Margin="4"
                Padding="40">

			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>

				<!-- Кнопка закрытия (в верхнем правом углу) -->
				<Button Grid.Row="0"
                        Content="✕"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Width="32"
                        Height="32"
                        Margin="0,-20,-20,0"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="#858585"
                        FontSize="18"
                        Cursor="Hand"
                        Click="CloseButton_Click">
					<Button.Styles>
						<Style Selector="Button:pointerover">
							<Setter Property="Foreground" Value="White" />
							<Setter Property="Background" Value="#3A3A3C" />
						</Style>
					</Button.Styles>
				</Button>

				<!-- Заголовок -->
				<StackPanel Grid.Row="0" Margin="0,0,0,30">
					<TextBlock Text="Writersword"
                               FontSize="36"
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center" />
					<TextBlock Text="Choose how to start"
                               FontSize="14"
                               Foreground="#999"
                               HorizontalAlignment="Center"
                               Margin="0,5,0,0" />
				</StackPanel>

				<!-- Основной контент -->
				<Grid Grid.Row="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="20" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>

					<!-- Левая колонка: Новый проект -->
					<Border Grid.Column="0"
                            Background="#252526"
                            CornerRadius="8"
                            Padding="20">
						<StackPanel>
							<TextBlock Text="📝 New Project"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       Foreground="White"
                                       Margin="0,0,0,15" />

							<!-- Выбор типа проекта -->
							<StackPanel Spacing="10">
								<RadioButton Content="📖 Novel / Book"
											 GroupName="ProjectType"
											 IsChecked="{Binding SelectedProjectType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Novel}"
											 Foreground="#CCC"
											 FontSize="14" />

								<RadioButton Content="🎬 Screenplay"
											 GroupName="ProjectType"
											 IsChecked="{Binding SelectedProjectType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Screenplay}"
											 Foreground="#CCC"
											 FontSize="14" />

								<RadioButton Content="✍️ Poetry Collection"
											 GroupName="ProjectType"
											 IsChecked="{Binding SelectedProjectType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Poetry}"
											 Foreground="#CCC"
											 FontSize="14" />

								<RadioButton Content="🎮 Game Design Document"
											 GroupName="ProjectType"
											 IsChecked="{Binding SelectedProjectType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=GameDesign}"
											 Foreground="#CCC"
											 FontSize="14" />

								<RadioButton Content="🌐 Translation"
											 GroupName="ProjectType"
											 IsChecked="{Binding SelectedProjectType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Translation}"
											 Foreground="#CCC"
											 FontSize="14" />
							</StackPanel>

							<!-- Кнопка создать -->
							<Button Content="Create Project"
                                    Command="{Binding NewProjectCommand}"
                                    Background="#007ACC"
                                    Foreground="White"
                                    Padding="20,12"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Stretch"
                                    FontSize="14"
                                    Cursor="Hand" />

							<!-- OR разделитель -->
							<Grid Margin="0,15,0,15">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="*" />
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="*" />
								</Grid.ColumnDefinitions>

								<Border Grid.Column="0"
								        Height="1"
								        Background="#3E3E42"
								        VerticalAlignment="Center"
								        Margin="0,0,10,0" />

								<TextBlock Grid.Column="1"
								           Text="or"
								           Foreground="#999"
								           FontSize="12"
								           VerticalAlignment="Center" />

								<Border Grid.Column="2"
								        Height="1"
								        Background="#3E3E42"
								        VerticalAlignment="Center"
								        Margin="10,0,0,0" />
							</Grid>

							<!-- Кнопка открыть -->
							<Button Content="Browse for Project..."
                                    Command="{Binding OpenProjectCommand}"
                                    Background="#007ACC"
                                    Foreground="White"
                                    Padding="20,12"
                                    HorizontalAlignment="Stretch"
                                    FontSize="14"
                                    Cursor="Hand" />
						</StackPanel>
					</Border>

					<!-- Правая колонка: Открыть проект -->
					<Border Grid.Column="2"
                            Background="#252526"
                            CornerRadius="8"
                            Padding="20">
						<StackPanel>
							<TextBlock Text="📂 Open Project"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       Foreground="White"
                                       Margin="0,0,0,15" />

							<TextBlock Text="Recent Projects:"
                                       FontSize="12"
                                       Foreground="#999"
                                       Margin="0,0,0,10" />

							<ItemsControl ItemsSource="{Binding RecentProjects}">
								<ItemsControl.ItemTemplate>
									<DataTemplate>
										<Border Background="#2D2D30"
                                                CornerRadius="4"
                                                Padding="8,5"
                                                Cursor="Hand"
                                                BorderThickness="1"
                                                BorderBrush="Transparent"
                                                Margin="0,0,0,5"
                                                PointerPressed="RecentProject_Click">
											<Border.Styles>
												<Style Selector="Border:pointerover">
													<Setter Property="Background" Value="#3A3A3C" />
													<Setter Property="BorderBrush" Value="#4A4A4C" />
												</Style>
											</Border.Styles>
											<StackPanel>
												<TextBlock Text="{Binding Name}"
                                                           Foreground="White"
                                                           FontSize="11"
                                                           TextTrimming="CharacterEllipsis" />
												<TextBlock Text="{Binding Path}"
                                                           Foreground="#666"
                                                           FontSize="9"
                                                           Margin="0,2,0,0"
                                                           TextTrimming="CharacterEllipsis" />
											</StackPanel>
										</Border>
									</DataTemplate>
								</ItemsControl.ItemTemplate>
							</ItemsControl>
						</StackPanel>
					</Border>

				</Grid>
			</Grid>

		</Border>
	</Border>

</Window>