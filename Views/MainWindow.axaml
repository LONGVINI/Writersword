<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Writersword.ViewModels"
        x:Class="Writersword.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="{Binding Title}"
        Width="1400"
        Height="900"
        WindowState="Maximized"
        Background="#1E1E1E"
        RequestedThemeVariant="Dark">

	<DockPanel>

		<!-- Меню -->
		<Menu DockPanel.Dock="Top"
              Background="#2D2D30"
              Padding="5,3">

			<MenuItem Header="_File" Foreground="#F0F0F0" FontSize="13">
				<MenuItem Header="New Project"
                          InputGesture="Ctrl+N"
                          Command="{Binding NewProjectCommand}" />

				<MenuItem Header="Open..."
                          InputGesture="Ctrl+O"
                          Command="{Binding OpenProjectCommand}" />

				<Separator />

				<MenuItem Header="Close" InputGesture="Ctrl+W" />

				<MenuItem Header="Save"
                          InputGesture="Ctrl+S"
                          Command="{Binding SaveProjectCommand}" />

				<MenuItem Header="Save As..."
                          InputGesture="Ctrl+Shift+S"
                          Command="{Binding SaveAsProjectCommand}" />

				<Separator />

				<MenuItem Header="Exit"
                          Command="{Binding ExitCommand}" />
			</MenuItem>

			<MenuItem Header="_Edit" Foreground="#F0F0F0" FontSize="13">
				<MenuItem Header="Undo" InputGesture="Ctrl+Z" />
				<MenuItem Header="Redo" InputGesture="Ctrl+Y" />
			</MenuItem>

			<MenuItem Header="_View" Foreground="#F0F0F0" FontSize="13">
				<MenuItem Header="Modules" />
				<MenuItem Header="Settings" />
			</MenuItem>
		</Menu>

		<!-- Панель с вкладками документов -->
		<Border DockPanel.Dock="Top"
                Background="#2D2D30"
                BorderBrush="#3F3F46"
                BorderThickness="0,0,0,1"
                Padding="10,5">

			<ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Disabled">

				<ItemsControl ItemsSource="{Binding OpenTabs}">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel Orientation="Horizontal" Spacing="5" />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>

					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<!-- Вкладка -->
							<Border Background="#3E3E42"
                                    CornerRadius="4,4,0,0"
                                    Padding="12,6"
                                    Cursor="Hand"
                                    MinWidth="120">

								<StackPanel Orientation="Horizontal" Spacing="8">
									<!-- Название вкладки -->
									<TextBlock Text="{Binding Title}"
                                               Foreground="White"
                                               FontSize="13"
                                               VerticalAlignment="Center" />

									<!-- Кнопка закрытия -->
									<Button Content="×"
                                            Command="{Binding CloseCommand}"
                                            Background="Transparent"
                                            Foreground="#999"
                                            FontSize="16"
                                            Padding="4,0"
                                            VerticalAlignment="Center"
                                            Cursor="Hand">
										<Button.Styles>
											<Style Selector="Button:pointerover">
												<Setter Property="Foreground" Value="White" />
												<Setter Property="Background" Value="#555" />
											</Style>
										</Button.Styles>
									</Button>
								</StackPanel>
							</Border>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

			</ScrollViewer>
		</Border>

		<!-- Панель с кнопками модулей -->
		<Border DockPanel.Dock="Top"
                Background="#2D2D30"
                BorderBrush="#3F3F46"
                BorderThickness="0,0,0,1"
                Padding="10,5">

			<StackPanel Orientation="Horizontal" Spacing="5">
				<ToggleButton Content="Writer"
                              IsChecked="True"
                              Padding="10,4"
                              Background="#007ACC"
                              Foreground="White"
                              FontSize="12"
                              Cursor="Hand" />

				<ToggleButton Content="Timeline"
                              Padding="10,4"
                              Background="#3E3E42"
                              Foreground="#CCC"
                              FontSize="12"
                              Cursor="Hand" />

				<ToggleButton Content="Characters"
                              Padding="10,4"
                              Background="#3E3E42"
                              Foreground="#CCC"
                              FontSize="12"
                              Cursor="Hand" />
			</StackPanel>
		</Border>

		<!-- Статус бар -->
		<Border DockPanel.Dock="Bottom"
                Background="#007ACC"
                Padding="10,4">
			<StackPanel Orientation="Horizontal" Spacing="20">
				<TextBlock Text="Words: 1,234" Foreground="White" FontSize="12" />
				<TextBlock Text="Lines: 56" Foreground="White" FontSize="12" />
			</StackPanel>
		</Border>

		<!-- Центральная область контента -->
		<ContentControl Content="{Binding CurrentModule}"
                        Background="#252526" />

	</DockPanel>

</Window>